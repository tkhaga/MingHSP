mingdc.dll説明書

  mingdc.dllは、MingHSP向けのデータコンバータ用のHSPプラグインです。HSP 2.6以上で動作します

  mingdc.asを読み込み可能なディレクトリに入れて（通常はcommonディレクトリ）、スクリプトの先頭に
	#include "mingdc.as"
  と書くことでmingdc.dllの機能が利用できるようになります

命令一覧

  vram2dbl s1,[n1],[n2]

    s1  出力ファイル
    n1  透明度(0-255 省略時255)
    n2  圧縮レベル(1-9 省略時9)

    現在のウィンドウに表示されている内容をMing(というかFlash)の可逆圧縮画像形式のDefineBitsLossless/DefineBitsLossless2に変換し、s1のファイルに保存します。
正常終了時statにはサイズが代入されます。
エラー時にはエラーの種類を示す数値がstatに代入され、それぞれ次のような意味です。
    stat=1  パラメータが異常
         2  メモリの確保に失敗
         3  圧縮に失敗
         4  出力ファイルを開けない
         5  出力データ全てを書き込めなかった

  wav2adpcm v1,s1,[n1],[n2]

    v1  出力データ
    s1  入力ファイル名
    n1  量子化ビットが16bitか8bitか(0なら8bit、1なら16bit WAVEファイルの時無視 省略時1)
    n2  ステレオかモノラルか(0ならモノラル、1ならステレオ WAVEファイルの時無視 省略時1)

    入力された無圧縮WAVEファイルまたはRAW PCMファイルをADPCM形式に変換します。正常終了時statには0が代入されます
エラー時にはエラーの種類を示す数値がstatに代入され、それぞれ次のような意味です。
    stat=1  入力ファイルを開けない
         2  出力ファイルを開けない
         3  非対応フォーマット
         4  メモリの確保に失敗

  getwavinfo v1,s1

    v1  情報が代入される変数
    s1  情報を取得するWAVEファイル名

    s1のWAVEファイルの情報を取得しv1に代入します。代入される情報は次の通りです
      v1.0  再生秒数
      v1.1  チャンネル数
      v1.2  フォーマットID
      v1.3  サンプリング周波数
      v1.4  量子化ビット数
      v1.5  波形データサイズ
statにはs1のWAVEのファイルをRAW PCMファイルにした場合にm_addSound,m_addSound_buf,mc_addSound,mc_addSound_bufで読み込むときに設定すべきフラグの値が代入されます

